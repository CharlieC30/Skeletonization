# Skeleton Pipeline Configuration - FILOPODIA
# ============================================
# Optimized for thin, short filopodia structures

output:
  base_dir: "../output"
  use_timestamp: true

format_conversion:
  normalize_method: minmax
  percentile_low: 0.0
  percentile_high: 100.0

clean_masks:
  opening_radius: 1
  closing_radius: 2
  min_size: 64

skeletonization:
  teasar_params:
    scale: 0.3
    const: 50
    pdrf_scale: 100000
    pdrf_exponent: 4
    soma_detection_threshold: 999999
    soma_acceptance_threshold: 999999
    soma_invalidation_scale: 2
    soma_invalidation_const: 300
    max_paths: null
  dust_threshold: 50              # CHANGED: 500 -> 50 (keep smaller components)
  anisotropy: [1, 1, 1]
  fix_branching: true
  fix_borders: true
  progress: true
  parallel: 1
  postprocess_dust_threshold: 0   # CHANGED: 1000 -> 0 (keep all skeleton fragments)
  postprocess_tick_threshold: 0
  keep_largest_component_only: false  # CHANGED: true -> false (keep all structures)

analysis:
  output_json: true
  output_labeled_tif: true
  output_length_tif: true
  branch_point_radius: 2

logging:
  level: INFO
  log_to_file: false
